{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../resources/mock-product-api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-alerts\";\nimport * as i4 from \"ngx-spinner\";\nimport * as i5 from \"@angular/forms\";\n\nconst _c0 = function () {\n  return [\"/shopping/product-list\"];\n};\n\nexport let ProductEditComponent = /*#__PURE__*/(() => {\n  class ProductEditComponent {\n    constructor(service, router, route, alertService, spinner) {\n      this.service = service;\n      this.router = router;\n      this.route = route;\n      this.alertService = alertService;\n      this.spinner = spinner;\n      this.model = {};\n    }\n\n    ngOnInit() {\n      this.spinner.show();\n      this.service.getProduct(this.route.snapshot.paramMap.get('id')).subscribe(product => this.model = product); //Remove setTimeout in production\n\n      setTimeout(() => {\n        this.spinner.hide();\n      }, 1000);\n    }\n\n    onSubmit() {\n      this.spinner.show();\n      const productObserver = {\n        next: product => {\n          this.router.navigate(['/shopping/product-list']), console.log('success');\n          setTimeout(() => {\n            this.spinner.hide();\n            this.alertService.success('Product Edited');\n          }, 1000);\n        },\n        error: err => {\n          console.error(err);\n          this.alertService.danger('Unable to edit product');\n          this.spinner.hide();\n        }\n      };\n      this.service.editProduct(this.model).subscribe(productObserver);\n    }\n\n  }\n\n  ProductEditComponent.ɵfac = function ProductEditComponent_Factory(t) {\n    return new (t || ProductEditComponent)(i0.ɵɵdirectiveInject(i1.MockProductApiService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.AlertService), i0.ɵɵdirectiveInject(i4.NgxSpinnerService));\n  };\n\n  ProductEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductEditComponent,\n    selectors: [[\"app-product-edit\"]],\n    decls: 33,\n    vars: 8,\n    consts: [[1, \"row\", \"justify-content-center\"], [1, \"col-8\", \"mt-4\"], [3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"productName\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", \"id\", \"productName\", \"placeholder\", \"Name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"mb-3\", \"form-group\"], [\"for\", \"productDescription\"], [\"id\", \"productDescription\", \"name\", \"description\", \"required\", \"\", \"placeholder\", \"Product Description\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-row\"], [1, \"form-group\", \"col-md-6\"], [\"for\", \"productPrice\"], [\"type\", \"text\", \"name\", \"price\", \"required\", \"\", \"id\", \"productPrice\", \"placeholder\", \"Example: 000.00\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"productQuantity\"], [\"type\", \"number\", \"name\", \"quantity\", \"required\", \"\", \"id\", \"productQuantity\", \"placeholder\", \"Example: 100\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"productImageUrl\"], [\"type\", \"text\", \"id\", \"productImageUrl\", \"required\", \"\", \"name\", \"imageUrl\", \"placeholder\", \"Example: https://source.unsplash.com/1600x900/?product\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"m-1\", 3, \"routerLink\"], [1, \"fas\", \"fa-arrow-left\"], [\"type\", \"submit\", 1, \"btn\", \"btn-warning\", \"m-1\", 3, \"disabled\"], [1, \"fas\", \"fa-edit\"]],\n    template: function ProductEditComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h4\");\n        i0.ɵɵtext(3, \"Edit Product\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"form\", 2, 3);\n        i0.ɵɵlistener(\"ngSubmit\", function ProductEditComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"label\", 5);\n        i0.ɵɵtext(8, \"Product Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.model.name = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 7)(11, \"label\", 8);\n        i0.ɵɵtext(12, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"textarea\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_textarea_ngModelChange_13_listener($event) {\n          return ctx.model.description = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 10)(15, \"div\", 11)(16, \"label\", 12);\n        i0.ɵɵtext(17, \"Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"input\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.model.price = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 11)(20, \"label\", 14);\n        i0.ɵɵtext(21, \"Quantity\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_input_ngModelChange_22_listener($event) {\n          return ctx.model.quantity = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"div\", 4)(24, \"label\", 16);\n        i0.ɵɵtext(25, \"Image Url\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"input\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.model.imageUrl = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"button\", 18);\n        i0.ɵɵelement(28, \"i\", 19);\n        i0.ɵɵtext(29, \" Back To List\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"button\", 20);\n        i0.ɵɵtext(31, \"Edit Product \");\n        i0.ɵɵelement(32, \"i\", 21);\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(5);\n\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.model.name);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.model.description);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.model.price);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.model.quantity);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.model.imageUrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(7, _c0));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", _r0.invalid);\n      }\n    },\n    dependencies: [i2.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm]\n  });\n  return ProductEditComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}